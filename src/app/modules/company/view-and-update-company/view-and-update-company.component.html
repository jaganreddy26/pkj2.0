<mat-toolbar class="head-toolbar" fxLayout="row" fxLayoutAlign="space-between center">
    <div>
        <button mat-icon-button *ngIf="width != 25" (click)="maxWidth()" matTooltip="Expand Tree">
            <mat-icon>account_tree
            </mat-icon>
        </button>
        View and Update Company
    </div>
    <button mat-icon-button matTooltip="Edit" (click)="checkPermission()" *ngIf="!isEdit">
        <mat-icon>edit</mat-icon>
    </button>
    <button mat-icon-button  matTooltip="View" *ngIf="isEdit" (click)="viewDetails()">
        <mat-icon>collections_bookmark</mat-icon>
    </button>

</mat-toolbar>

<div fxLayout="row" fxLayoutAlign="start center">
    <div [style.width.%]="width" style="height: 93vh;background-color: #ccc;border-right: 1px solid #ccc;" *ngIf="width != 40">
        <div fxLayout="row" fxLayoutAlign="end center">
            <div>
                <button mat-icon-button (click)="refresh()" matTooltip="Refresh Tree">
                    <mat-icon>refresh</mat-icon>
                </button>
                <button mat-icon-button (click)="minWidth()" matTooltip="Collapse Tree">
                    <mat-icon>keyboard_arrow_left</mat-icon>
                </button>

            </div>

        </div>
        <div *ngIf="width != 0">
            <app-tree [dataSrc]="dataSrc" [treeArray]="treeArray" [childrenNode]="childrenNode" (dataLabelChange)="dataNode($event)"
                (nodeLabelChange)="nodeLabel($event)"></app-tree>
        </div>

    </div>
    <div style="height: 93vh;width: 100%">
        <mat-card class="padding">
            <div class="padding fixed-height">

                <app-company-form [isEdit]="isEdit" [company]="company" [dataLoad]="states" (saveData)="saveData($event)"></app-company-form>
            </div>
        </mat-card>

        <div class="footer" [ngClass]=" height > 43 ? 'scroll' : 'hidden'" mwlResizable [enableGhostResize]="false"
            [resizeEdges]="{bottom: false, right: false, top: true, left: false}" (resizeEnd)="onResizeEnd($event)"
            [style.height.px]="height">
            <div class="window-header" [ngClass]=" width == 0 ? 'width-off' : 'width-on'" fxLayout="row" fxLayoutAlign="space-between center">
                <div style="padding-left: 22px;">
                    Details
                </div>
                <div style="padding-right: 22px;">
                    <button mat-icon-button *ngIf="height > 43" matTooltip="Minimize" (click)="min()">
                        <mat-icon>indeterminate_check_box</mat-icon>
                    </button>
                    <button mat-icon-button *ngIf="height != restoreHeight" matTooltip="Restore" (click)="restore()">
                        <mat-icon>restore_page</mat-icon>
                    </button>
                    <button mat-icon-button *ngIf="height != maxHeight" (click)="max()" matTooltip="Maximize">
                        <mat-icon>aspect_ratio
                        </mat-icon>
                    </button>
                </div>

            </div>

            <div class="content" [ngClass]=" width == 0 ? 'width-off' : 'width-on'">
                <mat-tab-group [selectedIndex]="selectedTab" (selectedTabChange)="tabChange($event)">
                    <mat-tab label="Documents">
                        <app-documents [isEdit]="isEdit" [pan]="panDocumentPath" [cin]="cinDocumentPath" [tan]="tanDocumentPath" [gstin]="gstinDocumentPath"
                            (saveDocumentFiles)="saveDocumentFiles($event)"></app-documents>
                    </mat-tab>
                    <mat-tab label="Directors">
                        <app-directors></app-directors>
                    </mat-tab>
                    <mat-tab label="Customer">
                        <app-customer [isEdit]="isEdit" [customers]="customers" (saveCustomerEvent)="saveCustomerDetails($event)"></app-customer>
                    </mat-tab>
                    <mat-tab label="Vendor">
                        <app-vendor [isEdit]="isEdit" [vendors]="vendors" (saveVendorEvent)="saveVendorDetails($event)"></app-vendor>
                    </mat-tab>
                    <mat-tab label="Bank">
                        <app-bank [isEdit]="isEdit" [bankAccDetails]="bankAccDetails" [bankBranches]="bankBranches" (saveBankDetails)="saveBankDetails($event)"></app-bank>
                    </mat-tab>
                </mat-tab-group>

            </div>
        </div>

    </div>
</div>

<ng-template #statusDialog>
    <h2 matDialogTitle>Confirm</h2>
    <mat-dialog-content>
        <button mat-button (click)="saveChanges()">Save the changes</button>
        <button mat-button (click)="discardChanges()">Discard the changes</button>
        <!-- <button mat-button matDialogClose>Continue</button> -->
    </mat-dialog-content>
    <!-- <mat-dialog-actions align="end">
      <button mat-button matDialogClose color="primary">I dialogs!</button>
    </mat-dialog-actions> -->
  </ng-template>